{
  "hash": "8a755e340407da7461c41458b3fe1b39",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Scatterplots for Regional Convergence Analysis\"\n---\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n# ðŸ“š Setup ---------------------------------------------------------------------\nlibrary(haven)\nlibrary(ggstatsplot)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nYou can cite this package as:\n     Patil, I. (2021). Visualizations with statistical details: The 'ggstatsplot' approach.\n     Journal of Open Source Software, 6(61), 3167, doi:10.21105/joss.03167\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\nlibrary(ggplot2)\nlibrary(cowplot)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n# Load dataset\ndata <- read_dta(\"../data/india520.dta\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n# ðŸ— Basic OLS Regression -----------------------------------------------------\nmodel1 <- lm(light_growth96_10rcr_cap ~ log_light96_rcr_cap, data = data)\nsummary(model1)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nlm(formula = light_growth96_10rcr_cap ~ log_light96_rcr_cap, \n    data = data)\n\nResiduals:\n      Min        1Q    Median        3Q       Max \n-0.110924 -0.022972  0.001766  0.020301  0.198850 \n\nCoefficients:\n                     Estimate Std. Error t value Pr(>|t|)    \n(Intercept)         -0.072274   0.007382   -9.79   <2e-16 ***\nlog_light96_rcr_cap -0.019881   0.001494  -13.31   <2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.03722 on 518 degrees of freedom\nMultiple R-squared:  0.2547,\tAdjusted R-squared:  0.2533 \nF-statistic:   177 on 1 and 518 DF,  p-value: < 2.2e-16\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n# ðŸ“ Compute regression model for annotation ----------------------------------\nmodel <- lm(light_growth96_10rcr_cap ~ log_light96_rcr_cap, data = data)\nslope <- round(coef(model)[2], 3)\nrsq   <- round(summary(model)$r.squared, 3)\n```\n:::\n\n::: {#cell-fig-convergence .cell}\n\n```{.r .cell-code .hidden}\n#| label: fig-convergence\n#| fig-cap: \"Regional luminosity convergence across districts in India\"\np1 <- ggscatterstats(\n  data = data,\n  x = log_light96_rcr_cap,\n  y = light_growth96_10rcr_cap,\n  label.var = district,\n  label.expression = (log_light96_rcr_cap > -3 & light_growth96_10rcr_cap < 0) | (log_light96_rcr_cap <-7 & light_growth96_10rcr_cap > 0.2),\n  results.subtitle = FALSE,\n  xlab = \"Ln luminosity per capita 1996\",\n  ylab = \"Growth luminosity per capita 1996-2010\"\n) +\nannotate(\"label\", \n           x = Inf, \n           y = Inf, \n           label = paste(\"Slope =\", slope, \"\\nRÂ² =\", rsq), \n           hjust = 1.1, \n           vjust = 1.5, \n           size = 4)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nRegistered S3 method overwritten by 'ggside':\n  method from   \n  +.gg   ggplot2\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n#| label: fig-convergence\n#| fig-cap: \"Regional luminosity convergence across districts in India\"\np1\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\n`stat_xsidebin()` using `bins = 30`. Pick better value with `binwidth`.\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\n`stat_ysidebin()` using `bins = 30`. Pick better value with `binwidth`.\n```\n\n\n:::\n\n::: {.cell-output-display}\n![Regional luminosity convergence across districts in India](scatterplots_files/figure-ipynb/fig-convergence-1.png){#fig-convergence}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n# ðŸ“Œ Growth vs. Spatial Lag of Growth\np2 <- ggscatterstats(\n  data = data,\n  x = SL_light_growth96_10rcr_cap,\n  y = light_growth96_10rcr_cap,\n  messages = FALSE,\n  title = \"Moran Scatterplot: Growth\",\n  subtitle = \"(a)\",\n  xlab = \"Growth luminosity per capita in neighbors\",\n  ylab = \"Growth luminosity per capita 1996-2010\"\n)\np2\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\n`stat_xsidebin()` using `bins = 30`. Pick better value with `binwidth`.\n`stat_ysidebin()` using `bins = 30`. Pick better value with `binwidth`.\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](scatterplots_files/figure-ipynb/unnamed-chunk-6-1.png)\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n# ðŸ“Œ Logged Initial Luminosity vs. Spatial Lag\np3 <- ggscatterstats(\n  data = data,\n  x = SL_log_light96_rcr_cap,\n  y = log_light96_rcr_cap,\n  messages = FALSE,\n  title = \"Moran Scatterplot: Logged Initial Luminosity\",\n  subtitle = \"(b)\",\n  xlab = \"Ln luminosity per capita in neighbors\",\n  ylab = \"Ln luminosity per capita 1996\"\n)\np3\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\n`stat_xsidebin()` using `bins = 30`. Pick better value with `binwidth`.\n`stat_ysidebin()` using `bins = 30`. Pick better value with `binwidth`.\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](scatterplots_files/figure-ipynb/unnamed-chunk-7-1.png)\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n# ðŸ“Œ Combine the two Moran scatterplots side by side\ncombined <- plot_grid(p2, p3, ncol = 2)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\n`stat_xsidebin()` using `bins = 30`. Pick better value with `binwidth`.\n`stat_ysidebin()` using `bins = 30`. Pick better value with `binwidth`.\n`stat_xsidebin()` using `bins = 30`. Pick better value with `binwidth`.\n`stat_ysidebin()` using `bins = 30`. Pick better value with `binwidth`.\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\ncombined\n```\n\n::: {.cell-output-display}\n![](scatterplots_files/figure-ipynb/unnamed-chunk-8-1.png)\n:::\n:::\n",
    "supporting": [
      "scatterplots_files/figure-ipynb"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": null,
    "postProcess": false
  }
}